<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="kr.co.hkcloud.palette3.phone.cmpgn.dao.PhoneCmpgnBadnDataManageMapper">

<!-- 목록 조회 -->
<select id="selectRtn"  parameterType= "java.util.HashMap" resultType="java.util.HashMap">
SELECT ROW_NUMBER() OVER() AS ROW_NUMBER
      ,FILE_NM
      ,ERR_MSG
      ,ERR_DATA
      ,A.REG_DT
      ,FN_USER(A.REG_USER_ID, '') AS REG_USER_NM
  FROM UC_CMP_ERR_DATA A, UC_CMP_DATA B
 WHERE 1=1
 <if test="CAMP_SEQ != '' and CAMP_SEQ != null">   AND CAMP_SEQ = #{CAMP_SEQ}</if>   
   AND A.DATA_SEQ = B.DATA_SEQ
   AND B.DEL_FLG IS NULL
 ORDER BY	REG_DT   

</select>


<!-- 캠페인 콤보 조회 -->
<select id="selectRtnCmpaiNmSet"  parameterType= "java.util.HashMap" resultType="java.util.HashMap">
SELECT  
       CAMP_SEQ
     , CAMP_NM
  FROM UC_CMP_BASE

</select>

<!-- 고객Data 콤보 조회 -->
<select id="selectRtnFileNmSet"  parameterType= "java.util.HashMap" resultType="java.util.HashMap">
SELECT 1 STEP
     , DATA_SEQ
     , FILE_NM
  FROM UC_CMP_DATA
 WHERE 1=1
 <if test="CAMP_SEQ != '' and CAMP_SEQ != null">   AND CAMP_SEQ = #{CAMP_SEQ}</if>    
   AND DEL_FLG IS NULL   

</select>
	
</mapper>